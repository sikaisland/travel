<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="css/index.css">
    <script src="js/jquery-1.8.3.min.js"></script>
    <script src="js/index.js"></script>
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <style>
        body{
            background: url("images/wallpaper.jpg");
        }
        .register .right a:nth-child(-n+6):hover{
            border: 1px solid skyblue;
        }
    </style>
</head>
<body>
    <div class="register">
        <div class="left">
            <h3>普通注册</h3>
            <form action="#">
                邮箱地址：<input type="text" id="username"> <br>
                密&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;码：<input type="password" id="pwd"> <br>
                确认密码：<input type="password" id="pwd2"> <br>
            </form>
            <button   id="submit">注册</button>
        </div>
        <div class="right" >
            <h3>快速注册</h3>
            <a href="#"></a>
            <a href="#"></a>
            <a href="#"></a>
            <a href="#"></a>
            <a href="#"></a>
            <a href="login.html">已有账号，现在去登录！</a>
        </div>
    </div>
    <footer class="registerfooter">
        版权所有 &copy;爱旅游
    </footer>

    <script>
        $("#submit").click(function () {
           if(checkuser()){
               if(checkpwd()){
                   if($("#pwd").val()==""||$("#username").val()==""){
                       alert("用户名或密码输入为空");
                   }else if($("#username").val()==window.localStorage.getItem("username")){
                       alert("该用户名已存在！");
                   } else{
                       if($("#pwd").val()==$("#pwd2").val()){
                           window.localStorage.setItem("username",$("#username").val());
                           window.localStorage.setItem("pwd",$("#pwd").val());
                           alert("注册成功！");
                           $(location).delay(1000).attr('href', 'login.html');
                       }else if($("#pwd").val()!=$("#pwd2").val()){
                           alert("密码不一致！请重新输入");
                       }
                   }
               }
           }
        })
        function checkuser() {
            var user=$("#username").val();
            var reg=/^[a-zA-Z][a-zA-Z0-9]{3,15}$/;
            if(reg.test(user)==false){
                alert("用户名格式不正确！");
                return false;
            }
            return true;
        }
        function checkpwd(){
            var pwd=$("#pwd").val();
            var reg = /^[a-zA-Z0-9]{4,10}$/;
            if(reg.test(pwd)==false){
                alert("密码不能含有非法字符，长度在4-10之间");
                return false;
            }
            return true;
        }
    </script>
</body>
</html>